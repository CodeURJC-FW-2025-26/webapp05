<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TCG DEVS</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Personalized CSS -->
    <link href="style/style.css" rel="stylesheet">
</head>

<body>
    <!-- BANNER MAIN -->
    <header class="pokemon-banner">
        <div class="container-fluid">
            <div class="row align-items-center banner-content">
                <!-- Logo and name -->
                <div class="col-12 col-md-6 logo-section">
                    <div class="logo-container">
                        <div class="pokeball-logo">
                            <div class="pokeball-top"></div>
                            <div class="pokeball-middle">
                                <div class="pokeball-button"></div>
                            </div>
                            <div class="pokeball-bottom"></div>
                        </div>
                        <div class="brand-text">
                            <h1 class="store-name">TCG DEVS</h1>
                            <p class="store-tagline">Your favorite card shop</p>
                        </div>
                    </div>
                </div>

                <!-- Navegation -->
                <div class="col-12 col-md-6 nav-section">
                    <nav class="banner-nav">
                        <ul class="nav-links">
                            <li><a href="/" class="nav-link">Home</a></li>
                            <li><a href="#cartas" class="nav-link">Cards</a></li>
                            <li><a href="#sobres" class="nav-link">Soon</a></li>
                            <li><a href="#contacto" class="nav-link">Soon</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>

        <!-- Pattern decoration -->
        <div class="banner-decoration">
            <div class="pattern-element pattern-1"></div>
            <div class="pattern-element pattern-2"></div>
            <div class="pattern-element pattern-3"></div>
        </div>
    </header>

    <!-- BANNER END -->

    <!-- MAIN CARD SECTION -->
    <main class="store-main" id="cartas">
        <div class="container py-5">
            <!-- Section title -->
            <div class="row mb-5">
                <div class="col-12 text-center">
                    <h2 class="section-title">Our Pokemon Cards</h2>
                    <p class="section-subtitle">Discover the best sellers</p>
                    <!-- Search form -->
                    <form class="d-flex justify-content-center mt-3" method="get" action="/">
                        <input name="q" value="{{q}}" class="form-control me-2" style="max-width:420px;" type="search"
                            placeholder="Buscar por nombre" aria-label="Search">
                        <button class="btn btn-outline-primary search-btn" type="submit">Buscar</button>
                    </form>

                    <!-- Filters: collections and price ranges -->
                    <div class="d-flex justify-content-center gap-2 mt-3 flex-wrap">
                        <!-- Collections -->
                        {{#collections}}
                        <a href="/?collection={{name}}{{#q}}&q={{q}}{{/q}}{{#price}}&price={{value}}{{/price}}"
                            class="btn btn-sm btn-outline-secondary filter-btn {{#current}}active{{/current}}">{{name}}</a>
                        {{/collections}}

                        <!-- Price ranges -->
                        <a href="/?price=lt10{{#q}}&q={{q}}{{/q}}{{#collection}}&collection={{collection}}{{/collection}}"
                            class="btn btn-sm btn-outline-secondary filter-btn {{#price}}{{#is_lt10}}active{{/is_lt10}}{{/price}}">&lt;
                            €10</a>
                        <a href="/?price=10-50{{#q}}&q={{q}}{{/q}}{{#collection}}&collection={{collection}}{{/collection}}"
                            class="btn btn-sm btn-outline-secondary filter-btn {{#price}}{{#is_10_50}}active{{/is_10_50}}{{/price}}">€10
                            - €50</a>
                        <a href="/?price=gt50{{#q}}&q={{q}}{{/q}}{{#collection}}&collection={{collection}}{{/collection}}"
                            class="btn btn-sm btn-outline-secondary filter-btn {{#price}}{{#is_gt50}}active{{/is_gt50}}{{/price}}">&gt;
                            €50</a>

                        <!-- Clear filters -->
                        <a href="/" class="btn btn-sm btn-outline-dark">Ver todo</a>
                    </div>
                </div>
            </div>

            <!-- Card Grid (rendered from DB posts) -->
            <div class="row cards-grid">
                {{#posts}}
                <div class="col-lg-4 col-md-6 col-xs-12 mb-4">
                    <div class="pokemon-card">
                        <div class="card-image">
                            <img src="/uploads/{{imageFilename}}" alt="{{title}}" class="card-img">
                            <div class="card-overlay">
                                <a href="/post/{{_id}}" class="btn-view-details">See Details</a>
                            </div>
                        </div>
                        <div class="card-content">
                            <h3 class="card-title">{{title}}</h3>
                            <div class="card-collection">{{coleccion}}</div>
                            <div class="card-price">€{{precio}}</div>
                        </div>
                    </div>
                </div>
                {{/posts}}
            </div>
            <!-- Pagination -->
            <div class="row mt-4">
                <div class="col-12 d-flex justify-content-center">
                    <nav aria-label="Page navigation">
                        <ul class="pagination">
                            <li class="page-item {{^hasPrev}}disabled{{/hasPrev}}">
                                <a class="page-link"
                                    href="{{#hasPrev}}/?page={{prevPage}}{{#q}}&q={{q}}{{/q}}{{#collection}}&collection={{collection}}{{/collection}}{{#price}}&price={{value}}{{/price}}{{/hasPrev}}{{^hasPrev}}#{{/hasPrev}}">Prev</a>
                            </li>

                            {{#pages}}
                            <li class="page-item {{#current}}active{{/current}}">
                                <a class="page-link"
                                    href="/?page={{num}}{{#q}}&q={{q}}{{/q}}{{#collection}}&collection={{collection}}{{/collection}}{{#price}}&price={{value}}{{/price}}"
                                    {{#current}}aria-current="page" {{/current}}>{{num}}</a>
                            </li>
                            {{/pages}}

                            <li class="page-item {{^hasNext}}disabled{{/hasNext}}">
                                <a class="page-link"
                                    href="{{#hasNext}}/?page={{nextPage}}{{#q}}&q={{q}}{{/q}}{{#collection}}&collection={{collection}}{{/collection}}{{#price}}&price={{value}}{{/price}}{{/hasNext}}{{^hasNext}}#{{/hasNext}}">Next</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>

            <a href="create new card.html" class="btn-view-addCards">Add Cards</a>
        </div>
    </main>

    <!-- Footer -->
    <footer class="pokemon-footer">
        <div class="container-fluid">
            <div class="row align-items-center py-4 footer-content justify-content-between">
                <div class="col-auto mb-3 mb-md-0">
                    <div class="d-flex align-items-center">
                        <div class="pokeball-logo me-3">
                            <!-- Logo + Text -->
                            <div class="pokeball-top"></div>
                            <div class="pokeball-middle">
                                <div class="pokeball-button"></div>
                            </div>
                            <div class="pokeball-bottom"></div>
                        </div>
                        <div class="brand-text">
                            <h1 class="store-name h4 mb-1">TCG DEVS</h1>
                            <p class="store-tagline small mb-0">Your favorite card shop</p>
                        </div>
                    </div>
                </div>

                <!-- Opening hours -->
                <div class="col-auto mb-3 mb-md-0 mx-auto">
                    <div class="text-center">
                        <h3 class="schedule-title h5 mb-3">Opening Hours</h3>
                        <div class="schedule-days">
                            <p class="mb-1">Monday - Friday: 10:00 - 20:00</p>
                            <p class="mb-1">Saturday: 09:00 - 22:00</p>
                            <p class="mb-0">Sunday: 11:00 - 18:00</p>
                        </div>
                    </div>
                </div>

                <!-- Back to Top button -->
                <div class="col-auto">
                    <div class="text-center">
                        <a href="#" class="back-to-top-btn btn btn-outline-light rounded-pill px-4 py-2">
                            <i class="fas fa-chevron-up me-2"></i>
                            Back to Top
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer decorative elements -->
        <div class="footer-decoration">
            <div class="pattern-element pattern-1"></div>
            <div class="pattern-element pattern-2"></div>
        </div>
    </footer>

</body>

</html>